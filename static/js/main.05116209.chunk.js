(this["webpackJsonpbattle-starship"]=this["webpackJsonpbattle-starship"]||[]).push([[0],{18:function(e,t,a){e.exports=a(31)},23:function(e,t,a){},30:function(e,t,a){},31:function(e,t,a){"use strict";a.r(t);for(var n=a(0),r=a.n(n),c=a(10),l=a.n(c),i=(a(23),a(1)),o=a(7),s=a(3),u="ABCDEFG".split(""),m=Object(o.a)(Array(7).keys()),h=[],d=0;d<u.length;d++)for(var p=0;p<m.length;p++)h.push(u[d]+(m[p]+1).toString());var f=h,E={};f.forEach((function(e,t){return E[e]="clean"}));var b={hits:[],ships:["B2","E3"],currentCoordinate:"",status:E},v=Object(s.b)({name:"fireControl",initialState:b,reducers:{fire:function(e,t){e.hits=[].concat(Object(o.a)(e.hits),[t.payload]);var a=e.status;if(-1!==e.ships.indexOf(t.payload)){var n=new Audio("/battle-starship/explosion.mp3");setTimeout((function(){n.play()}),500),a[t.payload]="ship-hit"}else a[t.payload]="hit";e.status=a}}}),y=(v.actions.fire,function(e){return Object.values(e.fireControl.status).filter((function(e){return"ship-hit"===e})).length});v.reducer;function O(e){var t=Object(i.c)(y);return r.a.createElement("div",{className:"counter"},r.a.createElement("h3",null,e.title),r.a.createElement("div",{className:"count"},("000"+t).slice(-3)))}var g={initialSecond:Date.now(),currentSecond:30},j=Object(s.b)({name:"timer",initialState:g,reducers:{decrementTimer:function(e){e.currentSecond>0&&(e.currentSecond=30-Math.round((Date.now()-e.initialSecond)/1e3))},resetTimer:function(e){e.initialSecond=Date.now(),e.currentSecond=30}}}),S=j.actions,w=S.resetTimer,C=S.decrementTimer,N=function(e){return e.timer.currentSecond},k=j.reducer,x=Object(s.b)({name:"highScores",initialState:{scores:[["AAA",2],["BBB",3],["CCC",1],["UUU",8],["WWW",3]]},reducers:{updateHighScores:function(e,t){var a=e.scores,n=t.payload;a.push(["YOU",n]),e.scores=a.sort((function(e,t){return e[1]>t[1]?-1:1}))}}}),A=x.actions.updateHighScores,B=function(e){return 0===e.timer.currentSecond},K=function(e){return e.highScores.scores},G=x.reducer;function T(e){var t=Object(i.c)(N),a=Object(i.c)(y),c=Object(i.b)();return Object(n.useEffect)((function(){setTimeout((function(){c(C())}),1e3),0===t&&c(A(a))})),r.a.createElement("div",{className:"counter"},r.a.createElement("h3",null,"Timer"),r.a.createElement("div",{className:"count"},t))}a(30);var F=a(17),H={};f.forEach((function(e,t){return H[e]="clean"}));var L=function(e,t){for(var a,n,r=e.slice(0),c=e.length;c--;)a=r[n=Math.floor((c+1)*Math.random())],r[n]=r[c],r[c]=a;return r.slice(0,t)}(f,10),U={hits:[],ships:L,currentCoordinate:"",status:H},V=Object(s.b)({name:"fireControl",initialState:U,reducers:{fire:function(e,t){var a=t.payload.toUpperCase();e.hits=[].concat(Object(o.a)(e.hits),[a]);var n=e.status,r=new Audio("/battle-starship/laser-shot.mp3"),c=new Audio("/battle-starship/access-denied.mp3");if(-1===f.indexOf(a)||e.hits.filter((function(e){return e===a})).length>1?c.play():1===e.hits.filter((function(e){return e===a})).length&&r.play(),-1!==e.ships.indexOf(a)){var l=new Audio("/battle-starship/explosion.mp3");setTimeout((function(){l.play()}),500),n[a]="ship-hit"}else n[a]="hit";e.status=n},resetFireControlState:function(e){e.status=H,e.ships=L,e.hits=[]}}}),D=V.actions,I=D.fire,M=D.resetFireControlState,W=V.reducer;function R(){var e=Object(i.b)(),t=Object(n.useState)("C3"),a=Object(F.a)(t,2),c=a[0],l=a[1];return r.a.createElement("div",{className:"fireControl"},r.a.createElement("img",{src:"crosshairs.png",width:"100",alt:"crosshairs"}),r.a.createElement("input",{type:"text",maxLength:2,value:c,onChange:function(e){return l(e.target.value)},onKeyPress:function(t){13===t.which&&e(I(c))}}),r.a.createElement("button",{onClick:function(){e(I(c))}},"FIRE LASER"),r.a.createElement("audio",{className:"audio-element"},r.a.createElement("source",{src:"/battle-starship/laser-shot.mp3"})))}var P=a(4),J=a(5),Y=a(6),X=a(8),$=function(e){Object(X.a)(a,e);var t=Object(Y.a)(a);function a(){return Object(P.a)(this,a),t.apply(this,arguments)}return Object(J.a)(a,[{key:"render",value:function(){return n.createElement("td",{key:this.props.cellKey,className:"letterBox"},this.props.cellLetter)}}]),a}(n.Component),q=function(e){Object(X.a)(a,e);var t=Object(Y.a)(a);function a(){return Object(P.a)(this,a),t.apply(this,arguments)}return Object(J.a)(a,[{key:"render",value:function(){return n.createElement("td",{key:this.props.cellKey,className:"numberBox"},this.props.cellValue)}}]),a}(n.Component),z=function(e){return e.fireControl.status};function Q(e){var t=Object(i.c)(z)["ABCDEFG".split("")[e.cellValue]+e.numberGridValue];return"ship-hit"===t?r.a.createElement("td",{key:e.cellKey,className:"battleGridBox hit ship"},r.a.createElement("img",{src:"starship-hopper.png",alt:"HIT",width:"60px",className:"dragonHit"})):"ship"===t?r.a.createElement("td",{key:e.cellKey,className:"battleGridBox"}):"hit"===t?r.a.createElement("td",{key:e.cellKey,className:"battleGridBox hit"}):r.a.createElement("td",{key:e.cellKey,className:"battleGridBox"})}var Z=function(e){Object(X.a)(a,e);var t=Object(Y.a)(a);function a(){return Object(P.a)(this,a),t.apply(this,arguments)}return Object(J.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"instructions"},r.a.createElement("h3",null,"How to Play"),r.a.createElement("p",null,"Ships have been hidden all around space! Use the targeting computer at the bottom of the screen and the FIRE LASER button to try to sink them and see how many you can locate in the allotted time."))}}]),a}(r.a.Component);function _(){var e=Object(i.c)(B),t=Object(i.c)(K),a=Object(i.b)(),n=t.slice(0,5);return console.log(n),e?r.a.createElement("div",{className:"high-score"},r.a.createElement("div",{className:"inner"},r.a.createElement("h1",null,"High Scores"),r.a.createElement("table",null,r.a.createElement("tbody",null,n.map((function(e,t){return r.a.createElement("tr",null,r.a.createElement("td",null,e[0]),r.a.createElement("td",null,e[1]))}))))),r.a.createElement("button",{className:"play-again",onClick:function(){a(M()),a(w())}},"PLAY AGAIN")):r.a.createElement("div",null)}var ee=function(){return r.a.createElement("div",{id:"wrapper"},r.a.createElement("div",{className:"topMenu"},r.a.createElement("img",{src:"spacex-logo.jpg",width:"200",alt:"SpaceX"}),r.a.createElement("h2",null,"BattleStarship")),r.a.createElement("div",{className:"left"},r.a.createElement(T,{countdown:100}),r.a.createElement(O,{title:"Sunk",count:5}),r.a.createElement(Z,null)),r.a.createElement("div",{className:"left"},r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null),u.map((function(e,t){return r.a.createElement($,{cellLetter:e,cellKey:t})}))),m.map((function(e,t){return r.a.createElement("tr",null,r.a.createElement(q,{cellValue:e+1,cellKey:t}),m.map((function(t,a){return r.a.createElement(Q,{cellValue:t,cellKey:a,numberGridValue:e+1})})))})))),r.a.createElement(R,null)),r.a.createElement("div",{className:"clear"}),r.a.createElement(_,null))},te=Object(s.a)({reducer:{fireControl:W,timer:k,highScores:G}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(i.a,{store:te},r.a.createElement(ee,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[18,1,2]]]);
//# sourceMappingURL=main.05116209.chunk.js.map